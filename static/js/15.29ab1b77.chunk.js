(this["webpackJsonpback-home-safe"]=this["webpackJsonpback-home-safe"]||[]).push([[15],{495:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,c=n(3),i=(n(0),n(433)),o=n(4),s=n(1),l=function(){var e=Object(i.a)().t;return Object(s.jsxs)(r,{children:[Object(s.jsx)("p",{children:e("global:disclaimer.1")}),Object(s.jsx)("p",{children:e("global:disclaimer.2")}),Object(s.jsx)("p",{children:e("global:disclaimer.3")})]})},r=o.b.div(a||(a=Object(c.a)(["\n  width: 100%;\n  text-align: center;\n\n  & p {\n    padding: 0 16px;\n    font-size: 12px;\n  }\n"])))},595:function(e,t,n){"use strict";n.r(t);var a,c,i,o,s,l,r,d,b,j,p,u,O=n(3),x=n(9),h=n(606),m=n(579),g=n(599),f=n(508),v=n(75),_=n(0),w=n(433),S=n(4),E=n(25),k=n.p+"static/media/plus.16b1f8a3.svg",A=function(){var e=Object(_.useState)(null),t=Object(x.a)(e,2),n=t[0],a=t[1],c=Object(_.useState)(window.matchMedia("(display-mode: standalone)").matches||/\bmode=standalone\b/.test(window.location.hash)||"localhost"===window.location.hostname),i=Object(x.a)(c,1)[0];return Object(_.useEffect)((function(){var e=function(e){e.preventDefault(),a(e)},t=function(e){e.preventDefault(),console.log("app installed"),a(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",t),function(){window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",t)}}),[]),{prompt:n,promptToInstall:function(){return n?n.prompt():Promise.reject(new Error('Tried installing before browser sent "beforeinstallprompt" event'))},isInstalled:i}},C=n(1),T=function(){var e=Object(w.a)("tutorial").t,t=A(),n=t.prompt,a=t.promptToInstall,c=Object(_.useCallback)((function(){n&&a()}),[n,a]);return Object(C.jsxs)(y,{children:[Object(C.jsx)(D,{src:k}),Object(C.jsx)("div",{children:e("add_to_home_screen.message.add_to_home_screen_first")}),Object(C.jsx)("div",{children:e("add_to_home_screen.message.to_act_as_an_app")}),Object(C.jsxs)(I,{children:[Object(C.jsx)("div",{children:"IOS"}),Object(C.jsx)("div",{children:e("add_to_home_screen.step.ios")}),Object(C.jsx)("div",{children:"Android"}),Object(C.jsx)("div",{children:e("add_to_home_screen.step.android")}),n&&Object(C.jsx)(L,{children:Object(C.jsx)(f.a,{variant:"contained",onClick:c,children:e("global:button.install")})})]})]})},y=S.b.div(a||(a=Object(O.a)(["\n  display: flex;\n  width: 100%;\n  min-height: 100%;\n  justify-content: center;\n  vertical-align: middle;\n  flex-direction: column;\n  text-align: center;\n"]))),D=S.b.img(c||(c=Object(O.a)(["\n  width: 100px;\n  margin: 0 auto 32px auto;\n"]))),L=S.b.div(i||(i=Object(O.a)(["\n  margin-top: 12px;\n"]))),I=S.b.div(o||(o=Object(O.a)(["\n  font-size: 12px;\n  margin: 24px 0;\n"]))),R=n(495),M=function(){var e=Object(w.a)("tutorial").t;return Object(C.jsxs)(P,{children:[Object(C.jsx)("h2",{children:e("disclaimer.name")}),Object(C.jsx)(R.a,{})]})},P=S.b.div(s||(s=Object(O.a)(["\n  width: 100%;\n  text-align: center;\n\n  & p {\n    padding: 0 16px;\n    font-size: 12px;\n  }\n"]))),G=n(542),N=n(555),U=n(543),z=n(42),B=n(59),H=function(){var e=Object(w.a)("tutorial").t,t=Object(B.b)(),n=t.language,a=t.setLanguage;return Object(C.jsxs)(W,{children:[Object(C.jsx)("h2",{children:e("language.name")}),Object(C.jsxs)(F,{"aria-label":"language",name:"language",value:n,onChange:function(e){a(e.target.value)},children:[Object(C.jsx)(G.a,{value:z.a["ZH-HK"],control:Object(C.jsx)(N.a,{}),label:"\u7e41\u9ad4\u4e2d\u6587"}),Object(C.jsx)(G.a,{value:z.a.EN,control:Object(C.jsx)(N.a,{}),label:"English"})]})]})},W=S.b.div(l||(l=Object(O.a)(["\n  width: 100%;\n  text-align: center;\n\n  & p {\n    padding: 0 16px;\n    font-size: 12px;\n  }\n\n  & input {\n    text-align: center;\n  }\n"]))),F=Object(S.b)(U.a)(r||(r=Object(O.a)(["\n  &.MuiFormGroup-root {\n    display: block;\n  }\n"]))),J=n(510),K=function(e){var t=e.value,n=e.onChange,a=Object(w.a)("tutorial").t;return Object(C.jsxs)(Z,{children:[Object(C.jsxs)("h2",{children:[a("setup_password.name"),"(",a("global:form.optional"),")"]}),Object(C.jsx)("p",{children:a("setup_password.message.password_usage")}),Object(C.jsx)(J.a,{type:"password",value:t,onChange:function(e){n(e.target.value)}})]})},Z=S.b.div(d||(d=Object(O.a)(["\n  width: 100%;\n  text-align: center;\n\n  & p {\n    padding: 0 16px;\n    font-size: 12px;\n  }\n\n  & input {\n    text-align: center;\n  }\n"])));!function(e){e.LANGUAGE="LANGUAGE",e.ADD_TO_HOME_SCREEN="ADD_TO_HOME_SCREEN",e.DISCLAIMER="DISCLAIMER",e.SET_UP_PASSWORD="SET_UP_PASSWORD"}(u||(u={}));t.default=function(e){var t=e.setFinishedTutorial,n=Object(w.a)("tutorial").t,a=Object(E.d)().encryptTravelRecord,c=Object(_.useState)(0),i=Object(x.a)(c,2),o=i[0],s=i[1],l=Object(_.useState)(""),r=Object(x.a)(l,2),d=r[0],b=r[1],j=Object(_.useMemo)((function(){var e=function(e){var t=e.t,n=e.password,a=e.setPassword;return[{key:u.LANGUAGE,name:t("language.name"),nextButtonText:t("global:button.next_page"),component:Object(C.jsx)(H,{})},{key:u.ADD_TO_HOME_SCREEN,name:t("add_to_home_screen.name"),nextButtonText:t("global:button.complete"),component:Object(C.jsx)(T,{})},{key:u.DISCLAIMER,name:t("disclaimer.name"),nextButtonText:t("disclaimer.accept"),component:Object(C.jsx)(M,{})},{key:u.SET_UP_PASSWORD,name:t("setup_password.name"),nextButtonText:Object(v.a)(n)?t("global:button.skip"):t("global:button.set"),component:Object(C.jsx)(K,{value:n,onChange:a})}]}({password:d,setPassword:b,t:n});return{allStep:e,activeStepComponent:e[o]||{},isLastStep:o===e.length-1}}),[o,d,b,n]),p=j.activeStepComponent,O=p.component,S=p.nextButtonText,k=j.isLastStep,A=j.allStep;return Object(C.jsxs)(q,{children:[Object(C.jsx)(h.a,{activeStep:o,alternativeLabel:!0,children:A.map((function(e){var t=e.key,n=e.name;return Object(C.jsx)(m.a,{children:Object(C.jsx)(g.a,{children:n})},t)}))}),Object(C.jsx)(Q,{children:O}),Object(C.jsxs)(V,{children:[Object(C.jsx)(f.a,{disabled:0===o,onClick:function(){s((function(e){return e-1}))},children:n("global:button.last_page")}),Object(C.jsx)(f.a,{variant:"contained",color:"secondary",onClick:function(){k?(!Object(v.a)(d)&&a(d),t(!0)):s((function(e){return e+1}))},children:S||n(k?"global:button.complete":"global:button.next_page")})]})]})};var q=S.b.div(b||(b=Object(O.a)(["\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n"]))),Q=S.b.div(j||(j=Object(O.a)(["\n  height: 100%;\n  overflow: auto;\n"]))),V=S.b.div(p||(p=Object(O.a)(["\n  flex-shrink: 0;\n  padding: 32px 24px;\n  display: flex;\n  justify-content: space-between;\n"])))}}]);
//# sourceMappingURL=15.29ab1b77.chunk.js.map