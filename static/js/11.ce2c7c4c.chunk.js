(this["webpackJsonpback-home-safe"]=this["webpackJsonpback-home-safe"]||[]).push([[11],{475:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var c,a,r=n(3),i=(n(0),n(57)),o=n(4),s=n.p+"static/media/back.7bf7a56f.svg",b=n(1),j=function(e){var t=e.name,n=e.backPath;return Object(b.jsxs)(d,{children:[n&&Object(b.jsx)(i.b,{to:n,children:Object(b.jsx)(l,{src:s})}),t]})},l=o.b.img(c||(c=Object(r.a)(["\n  height: 20px;\n  top: 14px;\n  left: 16px;\n  position: absolute;\n"]))),d=o.b.div(a||(a=Object(r.a)(["\n  color: #ffffff;\n  background-color: #12b188;\n  text-align: center;\n  line-height: 48px;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  flex-shrink: 0;\n"])))},496:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(497),a=n.n(c),r=function(){a()(window)(),window.sessionStorage.clear(),window.localStorage.clear(),window.location.reload()}},544:function(e){e.exports=JSON.parse('{"name":"back-home-safe","version":"1.0.3","private":true,"homepage":"./","repository":"gitlab:codogo-b/back-home-safe","dependencies":{"@material-ui/core":"^4.11.3","@material-ui/icons":"^4.11.2","@material-ui/lab":"4.0.0-alpha.57","constate":"^3.2.0","crypto-js":"^4.0.0","dayjs":"^1.10.4","delete-all-cookies":"^0.3.0","i18next":"^20.2.1","jsqr":"^1.3.1","pickerjs":"^1.2.1","qrcode-with-logos":"^1.0.3","ramda":"^0.27.1","react":"^17.0.2","react-autosize-textarea":"^7.1.0","react-device-detect":"^1.17.0","react-dom":"^17.0.2","react-i18next":"^11.8.13","react-modal":"^3.13.1","react-router":"^5.2.0","react-router-dom":"^5.2.0","react-router-transition":"^2.1.0","react-scripts":"4.0.3","react-use":"^17.2.3","styled-components":"^5.2.3","typescript":"^4.2.4","webrtc-adapter":"^7.7.1"},"scripts":{"start":"react-scripts start","build":"react-scripts build","postbuild":"precompress build","eject":"react-scripts eject","lint:js":"eslint .","tsc":"tsc","postinstall":"husky install","release":"standard-version --message \'chore(release): %s\\n\\n[skip ci]\' --no-verify"},"eslintConfig":{"extends":["react-app"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@commitlint/cli":"^12.1.1","@commitlint/config-conventional":"^12.1.1","@types/crypto-js":"^4.0.1","@types/node":"^14.14.41","@types/ramda":"^0.27.40","@types/react":"^17.0.3","@types/react-dom":"^17.0.3","@types/react-modal":"^3.12.0","@types/react-router":"^5.1.13","@types/react-router-dom":"^5.1.7","@types/react-router-transition":"^2.1.0","@types/styled-components":"^5.1.9","husky":"^6.0.0","import-sort-cli":"^6.0.0","import-sort-parser-babylon":"^6.0.0","import-sort-parser-typescript":"^6.0.0","import-sort-style-module":"^6.0.0","lint-staged":"^10.5.4","precompress":"^6.3.2","prettier":"^2.2.1","standard-version":"^9.2.0"}}')},598:function(e,t,n){"use strict";n.r(t);var c,a,r,i,o,s,b,j,l,d,O,m,x,h,u,p,g,f,v,y,k=n(3),_=n(9),w=n(589),T=n(590),S=n(591),C=n(553),E=n.n(C),R=n(550),M=n.n(R),Y=n(551),A=n.n(Y),D=n(552),I=n.n(D),L=n(0),H=n.n(L),N=n(433),q=n(4),z=n(221),G=n(25),F=n(580),J=n(512),P=n(581),V=n(508),B=n(582),U=n(458),X=n(75),Z=n(148),K=n(11),Q=n(57),W=n(160),$=n(48),ee=n(37),te=n(1),ne=function(){var e=Object(N.a)("main_screen").t,t=Object(L.useState)(""),n=Object(_.a)(t,2),c=n[0],a=n[1],r=Object(L.useState)(""),i=Object(_.a)(r,2),o=i[0],s=i[1],b=Object(K.g)(),j=Object(G.d)(),l=j.createTravelRecord,d=j.currentTravelRecord,O=Object($.b)().currentTime,m=Object(L.useMemo)((function(){return O.format("YYYY-MM-DD, dddd")}),[O]);return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(ce,{children:[Object(te.jsxs)(ae,{children:[Object(te.jsx)("div",{children:m}),Object(te.jsx)("h2",{children:e("home.record_your_visit")})]}),Object(te.jsxs)(ie,{children:[Object(te.jsxs)(re,{children:[Object(te.jsxs)(F.a,{children:[Object(te.jsx)(J.a,{color:"textSecondary",gutterBottom:!0,children:e("home.form.venue_name.label")}),Object(te.jsx)(oe,{value:c,onChange:a,placeholder:e("home.form.venue_name.placeholder"),readOnly:!Object(U.a)(d)})]}),Object(te.jsxs)(P.a,{children:[Object(te.jsx)(V.a,{size:"small",color:"primary",disabled:Object(X.a)(Object(Z.a)(c))||!Object(U.a)(d),onClick:function(){l({nameZh:c,type:G.c.PLACE,inputType:G.b.MANUALLY,inTime:Object(ee.a)().toISOString()}),b.push({pathname:"/confirm"})},children:e("home.button.go")}),Object(U.a)(d)?Object(te.jsx)(Q.b,{to:"/qrReader",children:Object(te.jsx)(V.a,{size:"small",color:"primary",children:e("home.button.scan_qr_code")})}):Object(te.jsx)(V.a,{size:"small",color:"primary",disabled:!0,children:e("home.button.scan_qr_code")})]})]}),Object(te.jsxs)(re,{children:[Object(te.jsxs)(F.a,{children:[Object(te.jsx)(J.a,{color:"textSecondary",gutterBottom:!0,children:e("home.form.taxi.label")}),Object(te.jsx)(oe,{value:o,onChange:s,placeholder:e("home.form.taxi.placeholder"),readOnly:!Object(U.a)(d)})]}),Object(te.jsx)(P.a,{children:Object(te.jsx)(V.a,{size:"small",color:"primary",disabled:Object(X.a)(Object(Z.a)(o))||!Object(U.a)(d),onClick:function(){l({venueId:o,type:G.c.TAXI,inputType:G.b.MANUALLY,inTime:Object(ee.a)().toISOString()}),b.push({pathname:"/confirm"})},children:e("home.button.ride")})})]})]})]}),Object(te.jsx)(se,{})]})},ce=q.b.div(c||(c=Object(k.a)(["\n  color: #fff;\n  padding: 40px 24px 32px 24px;\n"]))),ae=q.b.div(a||(a=Object(k.a)(["\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n"]))),re=Object(q.b)(B.a)(r||(r=Object(k.a)(["\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  min-width: 80vw;\n"]))),ie=q.b.div(i||(i=Object(k.a)(['\n  position: absolute;\n  display: flex;\n  overflow: auto;\n  width: 100%;\n  left: 0;\n  padding: 16px 0;\n\n  &::before {\n    content: "";\n    flex: 0 0 24px;\n  }\n\n  &::after {\n    content: "";\n    flex: 0 0 24px;\n  }\n\n  & ',":not(:last-child) {\n    margin-right: 16px;\n  }\n"])),re),oe=Object(q.b)(W.a)(o||(o=Object(k.a)(["\n  text-align: left;\n"]))),se=q.b.div(s||(s=Object(k.a)(["\n  background-color: #fff;\n  height: 100%;\n  overflow: auto;\n"]))),be=n(583),je=n(541),le=n(584),de=n(585),Oe=n(586),me=n(587),xe=n(543),he=n(542),ue=n(555),pe=n(537),ge=n(539),fe=n(545),ve=n.n(fe),ye=n(546),ke=n.n(ye),_e=n(544),we=n(475),Te=n(42),Se=n(154),Ce=n(59),Ee=n(496),Re=function(){var e=Object(N.a)("main_screen").t,t=Object(Se.b)().hasCameraSupport,n=Object(G.d)(),c=n.incognito,a=n.setIncognito,r=Object(L.useState)(!1),i=Object(_.a)(r,2),o=i[0],s=i[1],b=Object(Ce.b)(),j=b.language,l=b.setLanguage;return Object(te.jsxs)(Me,{children:[Object(te.jsx)(we.a,{name:e("setting.name")}),Object(te.jsxs)(Ye,{children:[Object(te.jsxs)(Ie,{subheader:Object(te.jsx)(be.a,{children:e("setting.section.common")}),children:[t?Object(te.jsx)(Ae,{to:"/cameraSetting",children:Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.camera_setting")})})}):Object(te.jsx)(je.a,{button:!0,disabled:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.camera_setting")})}),Object(te.jsx)(Ae,{to:"/confirmPageIcon",children:Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.confirm_page_icon_setting")})})}),Object(te.jsxs)(je.a,{children:[Object(te.jsx)(le.a,{primary:e("setting.item.incognito_mode.name"),secondary:e("setting.item.incognito_mode.explanation")}),Object(te.jsx)(de.a,{children:Object(te.jsx)(Oe.a,{checked:c,onChange:function(e){a(e.target.checked)},color:"primary"})})]}),Object(te.jsxs)(je.a,{button:!0,onClick:function(){s(!o)},children:[Object(te.jsx)(le.a,{primary:e("setting.item.language")}),o?Object(te.jsx)(ve.a,{}):Object(te.jsx)(ke.a,{})]}),Object(te.jsx)(me.a,{in:o,timeout:"auto",unmountOnExit:!0,children:Object(te.jsx)(je.a,{children:Object(te.jsxs)(xe.a,{"aria-label":"language",name:"language",value:j,onChange:function(e){l(e.target.value)},children:[Object(te.jsx)(he.a,{value:Te.a["ZH-HK"],control:Object(te.jsx)(ue.a,{}),label:"\u7e41\u9ad4\u4e2d\u6587"}),Object(te.jsx)(he.a,{value:Te.a.EN,control:Object(te.jsx)(ue.a,{}),label:"English"})]})})})]}),Object(te.jsx)(pe.a,{}),Object(te.jsxs)(Ie,{subheader:Object(te.jsx)(be.a,{children:e("setting.section.lab")}),children:[Object(te.jsx)(Ae,{to:"/qrGenerator",children:Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.qr_generator")})})}),Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.reset"),onClick:Ee.a})})]}),Object(te.jsx)(pe.a,{}),Object(te.jsxs)(Ie,{subheader:Object(te.jsxs)(be.a,{children:[e("setting.section.version"),": ",_e.version]}),children:[Object(te.jsx)(De,{href:"https://gitlab.com/codogo-b/back-home-safe",target:"_blank",children:Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.about_us")})})}),Object(te.jsx)(Ae,{to:"/disclaimer",children:Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.disclaimer")})})}),Object(te.jsx)(De,{href:"https://gitlab.com/codogo-b/back-home-safe/-/blob/master/CHANGELOG.md",target:"_blank",children:Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.change_log")})})}),Object(te.jsx)(De,{href:"https://gitlab.com/codogo-b/back-home-safe/-/issues",target:"_blank",children:Object(te.jsx)(je.a,{button:!0,children:Object(te.jsx)(le.a,{primary:e("setting.item.report_issue")})})})]})]})]})},Me=q.b.div(b||(b=Object(k.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  overflow: auto;\n"]))),Ye=q.b.div(j||(j=Object(k.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n"]))),Ae=Object(q.b)(Q.b)(l||(l=Object(k.a)(["\n  color: unset;\n"]))),De=q.b.a(d||(d=Object(k.a)(["\n  color: unset;\n"]))),Ie=Object(q.b)(ge.a)(O||(O=Object(k.a)(["\n  background-color: #fff;\n"]))),Le=n(588),He=n(430),Ne=n(549),qe=n.n(Ne),ze=n(547),Ge=n.n(ze),Fe=n(548),Je=n.n(Fe),Pe=n(85),Ve=n.n(Pe),Be=n.p+"static/media/incognito.8dc7be75.svg",Ue=n(91),Xe=function(){var e=Object(N.a)("main_screen").t,t=Object(G.d)(),n=t.travelRecord,c=t.removeTravelRecord,a=t.incognito,r=Object(Ce.b)().language;return Object(te.jsxs)(Ze,{children:[Object(te.jsx)(we.a,{name:e("travel_record.name")}),Object(te.jsx)(Ke,{children:Object(te.jsxs)(ge.a,{component:"nav",children:[a&&Object(te.jsxs)(Qe,{children:[Object(te.jsx)(We,{src:Be}),e("travel_record.message.incognito_activated")]}),Object(X.a)(n)&&Object(te.jsx)(Qe,{children:e("travel_record.message.empty")}),n.map((function(e,t){var n=Object(Ue.a)(e,r);return Object(te.jsxs)(H.a.Fragment,{children:[Object(te.jsxs)(je.a,{children:[Object(te.jsx)(Le.a,{children:e.type===G.c.TAXI?Object(te.jsx)(Ge.a,{}):Object(te.jsx)(Je.a,{})}),Object(te.jsx)(le.a,{primary:n,secondary:"".concat(Ve()(e.inTime).format("YYYY-MM-DD HH:mm")," - ").concat(e.outTime?Ve()(e.outTime).format("YYYY-MM-DD HH:mm"):"")}),Object(te.jsx)(de.a,{children:Object(te.jsx)(He.a,{edge:"end","aria-label":"delete",onClick:function(){c(t)},disabled:a,children:Object(te.jsx)(qe.a,{})})})]}),Object(te.jsx)(pe.a,{})]},t)}))]})})]})},Ze=q.b.div(m||(m=Object(k.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  overflow: auto;\n"]))),Ke=q.b.div(x||(x=Object(k.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n"]))),Qe=q.b.div(h||(h=Object(k.a)(["\n  text-align: center;\n  color: rgba(0, 0, 0, 0.54);\n  font-size: 0.875rem;\n  line-height: 48px;\n"]))),We=q.b.img(u||(u=Object(k.a)(["\n  display: block;\n  width: 24px;\n  margin: 8px auto 0 auto;\n"])));(y=v||(v={})).HOME="HOME",y.TRAVEL_RECORD="TRAVEL_RECORD",y.SETTINGS="SETTINGS";t.default=function(){var e=Object(N.a)("main_screen").t,t=Object(L.useState)(0),n=Object(_.a)(t,2),c=n[0],a=n[1],r=Object(L.useState)(!1),i=Object(_.a)(r,2),o=i[0],s=i[1],b=Object(G.d)(),j=b.currentTravelRecord,l=b.updateCurrentTravelRecord,d=Object(L.useMemo)((function(){return function(e){var t=e.t;return[{key:v.HOME,label:t("home.name"),component:Object(te.jsx)(ne,{}),icon:Object(te.jsx)(M.a,{})},{key:v.TRAVEL_RECORD,label:t("travel_record.name"),component:Object(te.jsx)(Xe,{}),icon:Object(te.jsx)(A.a,{})},{key:v.SETTINGS,label:t("setting.name"),component:Object(te.jsx)(Re,{}),icon:Object(te.jsx)(I.a,{})}]}({t:e})}),[e]),O=Object(L.useMemo)((function(){return d[c]||{}}),[c,d]).component;return Object(te.jsxs)($e,{children:[O,Object(te.jsx)(tt,{children:Object(te.jsx)(w.a,{showLabels:!0,value:c,onChange:function(e,t){a(t)},children:d.map((function(e){var t=e.key,n=e.label,c=e.icon;return Object(te.jsx)(T.a,{label:n,icon:c},t)}))})}),j&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)(et,{children:Object(te.jsxs)(S.a,{variant:"extended",color:"secondary",onClick:function(){s(!0)},children:[Object(te.jsx)(E.a,{}),e("global:button.leave")]})}),Object(te.jsx)(z.a,{visible:o,onDiscard:function(){s(!1)},onFinish:function(e){l({outTime:e.startOf("minute").toISOString()}),s(!1)}})]})]})};var $e=q.b.div(p||(p=Object(k.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),et=q.b.div(g||(g=Object(k.a)(["\n  position: absolute;\n  z-index: 1000;\n  bottom: 80px;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  pointer-events: none;\n\n  & button {\n    pointer-events: all;\n  }\n"]))),tt=q.b.div(f||(f=Object(k.a)(["\n  flex-shrink: 0;\n  box-shadow: 0 0 3.6px 0 rgb(0 0 0 / 13%), 0 0 0.9px 0 rgb(0 0 0 / 11%);\n  padding-bottom: 8px;\n  background-color: #fff;\n"])))}}]);
//# sourceMappingURL=11.ce2c7c4c.chunk.js.map