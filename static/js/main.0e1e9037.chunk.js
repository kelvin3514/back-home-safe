(this["webpackJsonpback-home-safe"]=this["webpackJsonpback-home-safe"]||[]).push([[3],{142:function(e,n,t){"use strict";n.a=t.p+"static/media/cross.d2bbc7f7.svg"},154:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return j}));var a=t(115),o=t.n(a),r=t(155),c=t(9),i=t(49),s=t(431),l=t(260),u=t(0),d=t(261),b=Object(i.a)((function(){var e=Object(u.useState)("mediaDevices"in navigator),n=Object(c.a)(e,1)[0],t=Object(d.a)("preferred_camera_id","AUTO"),a=Object(c.a)(t,2),i=a[0],b=a[1],f=Object(u.useState)(null),p=Object(c.a)(f,2),j=p[0],m=p[1],h=Object(u.useCallback)(Object(r.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n&&Object(s.a)("enumerateDevices",navigator.mediaDevices)){e.next=4;break}return m([]),e.abrupt("return");case 4:return e.next=6,navigator.mediaDevices.enumerateDevices();case 6:t=e.sent,a=t.filter((function(e){return"videoinput"===e.kind})),m(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Unable to list device.\n\n"+e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[n]);return Object(u.useEffect)((function(){h()}),[n,h]),Object(u.useEffect)((function(){null===j||"AUTO"===i||Object(l.a)((function(e){return e.deviceId===i}),j)||b("AUTO")}),[j,b,i]),{preferredCameraId:Object(l.a)((function(e){return e.deviceId===i}),j||[])?i:"AUTO",cameraList:j||[],setPreferredCameraId:b,hasCameraSupport:n}})),f=Object(c.a)(b,2),p=f[0],j=f[1]},160:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a,o=t(3),r=t(32),c=t(256),i=t(4),s=(t(0),t(254)),l=t.n(s),u=t(1),d=function(e){var n=e.value,t=e.onChange,a=e.placeholder,o=e.readOnly,i=Object(c.a)(e,["value","onChange","placeholder","readOnly"]);return Object(u.jsx)(b,Object(r.a)({value:n,placeholder:a,readOnly:o,onChange:function(e){t&&t(e.target.value)},async:!0},i))},b=Object(i.b)(l.a)(a||(a=Object(o.a)(["\n  text-align: center;\n  font-size: 32px;\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  margin: 4px 0;\n  color: #fed426;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  width: 100%;\n\n  padding-left: 0;\n  padding-right: 0;\n  line-height: 36px;\n  font-weight: 500;\n\n  &:focus {\n    outline: none;\n  }\n"])))},220:function(e,n,t){"use strict";t.d(n,"a",(function(){return pe}));var a,o,r,c,i,s,l,u,d,b,f,p,j,m,h,O,g,x,v,_,y,w,k,S,C,T,A,I=t(3),N=t(9),E=t(149),R=t(0),H=t(433),D=t(11),L=t(57),M=t(4),P=t(142),J=t.p+"static/media/tick.6d45b966.svg",z=t(46),V=t(467),U=t(158),Z=t.p+"static/media/checkbox.4e2450ab.svg",q=t.p+"static/media/checkboxChecked.7f6c2da0.svg",W=t(1),Y=function(e){var n=e.onChange,t=e.checked,a=e.readOnly,o=void 0!==a&&a,r=function(){n(!t)};return U.isAndroid?Object(W.jsx)(B,{checked:t,onClick:r,color:"primary",readOnly:o}):Object(W.jsx)(K,{src:t?q:Z,onClick:o?void 0:r})},K=M.b.img(a||(a=Object(I.a)(["\n  height: 32px;\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 8px;\n"]))),B=Object(M.b)(V.a)(o||(o=Object(I.a)(["\n  display: inline-block;\n  vertical-align: top;\n  margin: 0 8px !important;\n  padding: 0 !important;\n\n  &.MuiCheckbox-colorPrimary {\n    color: #fff !important;\n  }\n"]))),F=t(221),X=t(160),G=t(59),Q=t(25),$=t(37),ee=t(91),ne=t(70),te=t.n(ne),ae=t(71),oe=t.p+"static/media/greenTick.5e528318.svg",re=function(e){var n=e.isModalOpen,t=e.onCancel,a=e.onConfirm,o=e.selectedAutoLeaveHour,r=e.date,c=Object(H.a)("confirm").t,i=Object(R.useState)(o),s=Object(N.a)(i,2),l=s[0],u=s[1];Object(R.useEffect)((function(){u(o)}),[u,o]);var d=Object(R.useMemo)((function(){return r.add(l,"hour")}),[r,l]);return Object(W.jsxs)(te.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"370px",overflow:"hidden"}},ariaHideApp:!1,children:[Object(W.jsx)(ie,{children:Object(W.jsx)(ce,{src:ae.a,onClick:t})}),Object(W.jsx)(se,{children:c("message.set_auto_leave_time")}),Object(W.jsx)(le,{id:"scroll",children:Object(W.jsx)(ue,{children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map((function(e){return Object(W.jsxs)(de,{onClick:function(){u(e)},children:["+ ",e,c("form.hour"),l===e&&Object(W.jsx)(fe,{src:oe})]},e)}))})}),Object(W.jsxs)(be,{children:[Object(W.jsx)("div",{children:c("message.enter_at",{time:r.format("MM-DD HH:mm")})}),Object(W.jsx)("div",{children:c("message.auto_leave_at",{time:d.format("MM-DD HH:mm")})})]}),Object(W.jsx)(z.b,{onClick:function(){a(l)},children:c("global:button.confirm")})]})},ce=M.b.img(r||(r=Object(I.a)(["\n  height: 20px;\n"]))),ie=M.b.div(c||(c=Object(I.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"]))),se=M.b.h1(i||(i=Object(I.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 0;\n"]))),le=M.b.div(s||(s=Object(I.a)(["\n  overflow: auto;\n  height: 180px;\n  padding: 0 8px;\n"]))),ue=M.b.ul(l||(l=Object(I.a)(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n"]))),de=M.b.li(u||(u=Object(I.a)(["\n  line-height: 40px;\n  border-bottom: 1px #eeeeee solid;\n  padding: 0 8px;\n"]))),be=M.b.div(d||(d=Object(I.a)(["\n  font-size: 12px;\n  text-align: center;\n  padding: 16px 0;\n"]))),fe=M.b.img(b||(b=Object(I.a)(["\n  height: 32px;\n  position: relative;\n  float: right;\n  top: 4px;\n"]))),pe=function(e){var n=e.currentTravelRecord,t=e.readOnly,a=void 0!==t&&t,o=e.confirmPageIcon,r=Object(H.a)("confirm").t,c=Object(D.g)(),i=Object(Q.d)().updateCurrentTravelRecord,s=Object(R.useState)(!0),l=Object(N.a)(s,2),u=l[0],d=l[1],b=Object(R.useState)(4),f=Object(N.a)(b,2),p=f[0],j=f[1],m=Object(R.useState)(!1),h=Object(N.a)(m,2),O=h[0],g=h[1],x=Object(R.useState)(!1),v=Object(N.a)(x,2),_=v[0],y=v[1],w=Object(G.b)().language;Object(R.useEffect)((function(){n||c.push("/")}),[n,c]);var k=Object(R.useMemo)((function(){return Object($.a)()}),[]),S=Object(R.useMemo)((function(){return Object(ee.a)(n,w)}),[n,w]);Object(R.useEffect)((function(){var e=k.add(p,"hour");i({outTime:u?e.toISOString():void 0})}),[u,k,p,i]);var C=Object(E.a)(Q.c.PLACE,"type",n);return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(je,{children:[Object(W.jsxs)(he,{children:[o&&Object(W.jsx)(me,{src:o}),a?Object(W.jsx)(Oe,{src:P.a}):Object(W.jsx)(L.b,{to:"/",children:Object(W.jsx)(Oe,{src:P.a})})]}),Object(W.jsxs)(xe,{children:[C===Q.c.TAXI?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(we,{children:r("message.you_have_entered_taxi")}),Object(W.jsxs)(ke,{children:[r("message.res_mark"),":"]})]}):Object(W.jsx)(we,{children:r("message.you_have_entered_venue")}),Object(W.jsx)(ge,{children:Object(W.jsx)(X.a,{value:S||"",readOnly:!0})}),Object(W.jsx)(Se,{children:k.format("YYYY-MM-DD HH:mm")})]}),Object(W.jsx)(ve,{children:Object(W.jsx)(_e,{children:Object(W.jsx)(ye,{src:J})})}),Object(W.jsxs)(Ne,{children:[Object(W.jsxs)(Ce,{children:[Object(W.jsxs)(Te,{children:[Object(W.jsx)(Y,{checked:u,onChange:d,readOnly:a}),r("form.auto_leave_after_x_hour",{hour:p})]}),Object(W.jsx)(Ae,{onClick:function(){a||g(!0)},children:r("global:button.change")})]}),Object(W.jsx)(z.a,{shadowed:!0,onClick:function(){a||y(!0)},children:C===Q.c.TAXI?r("button.get_off"):r("button.leave")}),Object(W.jsx)(Ie,{children:r("message.remember_to_leave")})]})]}),Object(W.jsx)(re,{isModalOpen:O,onCancel:function(){g(!1)},onConfirm:function(e){j(e),g(!1)},selectedAutoLeaveHour:p,date:k}),Object(W.jsx)(F.a,{visible:_,onDiscard:function(){y(!1)},onFinish:function(e){i({outTime:e.startOf("minute").toISOString()}),g(!1),y(!1),c.push("/")}})]})},je=M.b.div(f||(f=Object(I.a)(["\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  display: flex;\n  flex-direction: column;\n  color: #fff;\n"]))),me=M.b.img(p||(p=Object(I.a)(["\n  height: 72px;\n"]))),he=M.b.div(j||(j=Object(I.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  flex-shrink: 0;\n  margin: 24px 0 16px 0;\n"]))),Oe=M.b.img(m||(m=Object(I.a)(["\n  height: 20px;\n  margin: 8px 24px;\n  position: absolute;\n  right: 0;\n"]))),ge=M.b.div(h||(h=Object(I.a)(["\n  padding: 0 32px;\n"]))),xe=M.b.div(O||(O=Object(I.a)(["\n  width: 100%;\n  height: 50%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),ve=M.b.div(g||(g=Object(I.a)(["\n  height: 100%;\n  width: 100%;\n  text-align: center;\n"]))),_e=M.b.div(x||(x=Object(I.a)(["\n  height: 100%;\n  max-height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),ye=M.b.img(v||(v=Object(I.a)(["\n  display: inline-block;\n  height: 100%;\n  max-height: 110px;\n"]))),we=M.b.div(_||(_=Object(I.a)(["\n  color: #ffffff;\n  text-align: center;\n  font-size: 15px;\n"]))),ke=Object(M.b)(we)(y||(y=Object(I.a)(["\n  margin-top: 8px;\n"]))),Se=M.b.div(w||(w=Object(I.a)(["\n  color: #ffffff;\n  text-align: center;\n"]))),Ce=M.b.div(k||(k=Object(I.a)(["\n  margin-bottom: 16px;\n  width: 100%;\n  max-width: 380px;\n  margin: 16px auto;\n  display: flex;\n  flex-shrink: 0;\n  font-size: 14px;\n"]))),Te=M.b.div(S||(S=Object(I.a)(["\n  width: 100%;\n  text-align: left;\n  padding-left: 24px;\n  line-height: 32px;\n"]))),Ae=M.b.div(C||(C=Object(I.a)(["\n  flex-shrink: 0;\n  padding-right: 24px;\n  line-height: 32px;\n"]))),Ie=M.b.div(T||(T=Object(I.a)(["\n  text-align: center;\n  padding-bottom: 40px;\n  flex-shrink: 0;\n"]))),Ne=M.b.div(A||(A=Object(I.a)(["\n  width: 100%;\n  flex-shrink: 0;\n"])))},221:function(e,n,t){"use strict";t.d(n,"a",(function(){return te}));var a,o,r,c,i,s,l,u,d,b,f,p,j,m,h=t(9),O=t(149),g=t(0),x=t(59),v=t(48),_=t(25),y=t(37),w=t(91),k=t(3),S=t(85),C=t.n(S),T=t(433),A=t(70),I=t.n(A),N=t(4),E=t(71),R=t(46),H=t(1),D=function(e){var n=e.isModalOpen,t=e.onCancel,a=e.onLeaveNow,o=e.onLeaved,r=e.place,c=e.date,i=e.outTime,s=e.venueType,l=Object(T.a)("confirm").t,u=Object(g.useMemo)((function(){return C()(i)}),[i]),d=i?430:390;return Object(H.jsxs)(I.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:s===_.c.TAXI?"".concat(d+24,"px"):"".concat(d,"px"),overflow:"hidden"}},ariaHideApp:!1,children:[Object(H.jsx)(M,{children:Object(H.jsx)(L,{src:E.a,onClick:t})}),s===_.c.TAXI?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(z,{children:l("message.you_have_entered_taxi")}),Object(H.jsxs)(V,{children:[l("message.res_mark"),":"]})]}):Object(H.jsx)(z,{children:l("message.you_have_entered_venue")}),Object(H.jsx)(Z,{children:r}),Object(H.jsx)(U,{children:c.format("YYYY-MM-DD HH:mm")}),Object(H.jsx)(P,{children:l("message.you_sure_want_to_leave")}),i&&Object(H.jsx)(q,{children:l("form.auto_leave_at",{time:u.format("MM-DD HH:mm")})}),Object(H.jsx)(R.b,{onClick:a,children:l("button.leave_now")}),Object(H.jsxs)(J,{onClick:o,children:[" ",l("button.already_left")]})]})},L=N.b.img(a||(a=Object(k.a)(["\n  height: 20px;\n"]))),M=N.b.div(o||(o=Object(k.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  margin-bottom: 8px;\n"]))),P=N.b.div(r||(r=Object(k.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin: 64px 0;\n  font-weight: 500;\n"]))),J=Object(N.b)(R.b)(c||(c=Object(k.a)(["\n  background-color: #12b188;\n  color: #fff;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n"]))),z=N.b.div(i||(i=Object(k.a)(["\n  text-align: center;\n  font-size: 16px;\n"]))),V=Object(N.b)(z)(s||(s=Object(k.a)(["\n  margin-top: 8px;\n"]))),U=N.b.div(l||(l=Object(k.a)(["\n  text-align: center;\n  font-size: 14px;\n"]))),Z=N.b.div(u||(u=Object(k.a)(["\n  color: unset;\n  text-shadow: none;\n  text-align: center;\n  font-size: 28px;\n  font-weight: 500;\n  line-height: 48px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),q=N.b.div(d||(d=Object(k.a)(["\n  font-size: 12px;\n  text-align: center;\n  padding: 12px 0;\n"]))),W=t(468),Y=t(466),K=t(253),B=t.n(K),F=(t(423),Object(g.forwardRef)((function(e,n){var t=Object(g.useState)(null),a=Object(h.a)(t,2),o=a[0],r=a[1];return Object(g.useImperativeHandle)(n,(function(){return{init:function(){var e=document.querySelector(".js-inline-picker");e&&r(new B.a(e,{inline:!0,rows:2,pick:function(e){console.log(e)}}))},getValue:function(){return o?o.getDate():""}}})),Object(H.jsx)(X,{children:Object(H.jsx)("div",{className:"js-inline-picker"})})}))),X=N.b.div(b||(b=Object(k.a)(["\n  & .picker {\n    font-size: 12px;\n  }\n\n  & .picker-dialog {\n    border: 0;\n  }\n\n  & .picker-cell:before {\n    background-image: unset;\n  }\n\n  & .picker-cell:after {\n    background-image: unset;\n  }\n\n  & .picker-picked {\n    color: unset;\n    border-top: #12b188 1px solid;\n    border-bottom: #12b188 1px solid;\n  }\n\n  & .picker-cell {\n    padding: 0 4px;\n  }\n\n  & .picker-item {\n    padding: 3px 0px;\n  }\n\n  & .picker-cell + .picker-cell {\n    border: 0;\n  }\n"]))),G=function(e){var n=e.isModalOpen,t=e.onCancel,a=e.onConfirm,o=e.date,r=Object(T.a)("confirm").t,c=Object(v.b)().currentTime,i=Object(g.useRef)(null),s=Object(g.useState)(!1),l=Object(h.a)(s,2),u=l[0],d=l[1],b=Object(g.useState)(!1),f=Object(h.a)(b,2),p=f[0],j=f[1];return Object(H.jsxs)(I.a,{isOpen:n,onRequestClose:t,style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"},content:{outline:"none",border:"0",padding:"16px",borderRadius:"8px",width:"240px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"280px",overflow:"hidden"}},ariaHideApp:!1,onAfterOpen:function(){i.current&&i.current.init()},children:[Object(H.jsx)($,{children:Object(H.jsx)(Q,{src:E.a,onClick:t})}),Object(H.jsx)(ee,{children:r("message.when_you_left")}),Object(H.jsx)(ne,{children:Object(H.jsx)(F,{ref:i})}),Object(H.jsx)(R.b,{onClick:function(){var e=i.current?i.current.getValue():Date(),n=Object(y.a)(e).startOf("minute");n.isBefore(o.startOf("minute"))?d(!0):n.isAfter(c)?j(!0):a(n)},children:r("global:button.confirm")}),Object(H.jsx)(W.a,{open:u,autoHideDuration:2e3,onClose:function(){d(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(H.jsx)(Y.a,{elevation:6,variant:"filled",severity:"error",children:r("message.leave_time_earlier_than_enter")})}),Object(H.jsx)(W.a,{open:p,autoHideDuration:2e3,onClose:function(){j(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},children:Object(H.jsx)(Y.a,{elevation:6,variant:"filled",severity:"error",children:r("message.future_leave_time")})})]})},Q=N.b.img(f||(f=Object(k.a)(["\n  height: 20px;\n"]))),$=N.b.div(p||(p=Object(k.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n"]))),ee=N.b.div(j||(j=Object(k.a)(["\n  font-size: 20px;\n  text-align: center;\n  margin-top: 24px;\n"]))),ne=N.b.div(m||(m=Object(k.a)(["\n  border-bottom: 1px #eeeeee solid;\n  border-top: 1px #eeeeee solid;\n  padding: 32px 0;\n  margin: 16px 0;\n"]))),te=function(e){var n=e.visible,t=e.onDiscard,a=e.onFinish,o=Object(v.b)().currentTime,r=Object(_.d)().currentTravelRecord,c=Object(g.useState)(!1),i=Object(h.a)(c,2),s=i[0],l=i[1],u=Object(x.b)().language,d=Object(g.useMemo)((function(){return Object(w.a)(r,u)}),[r,u]),b=Object(O.a)(_.c.PLACE,"type",r);return r?Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(D,{isModalOpen:n&&!s,onCancel:function(){l(!1),t()},onLeaveNow:function(){a(o)},onLeaved:function(){l(!0)},place:d||"",date:Object(y.a)(r.inTime),outTime:r.outTime,venueType:b}),Object(H.jsx)(G,{isModalOpen:n&&s,onCancel:function(){l(!1),t()},onConfirm:function(e){a(e)},date:Object(y.a)(r.inTime)})]}):Object(H.jsx)(H.Fragment,{})}},222:function(e){e.exports=JSON.parse('{"name":"Camera Settings","form":{"camera_choice":{"label":"Camera Source","explain":"Change camera source until there is a preview"}}}')},223:function(e){e.exports=JSON.parse('{"message":{"you_have_entered_taxi":"You have entered taxi","res_mark":"Registration Mark","you_have_entered_venue":"You have entered the venue","remember_to_leave":"Remember to press\\"Leave\\" button","set_auto_leave_time":"Set Auto-leave Time","enter_at":"Enter Venue at {{time}}","auto_leave_at":"Auto-leave at {{time}}","you_sure_want_to_leave":"Are you leaving now\uff1f","when_you_left":"When did you leave\uff1f","future_leave_time":"Leave time cannot be future","leave_time_earlier_than_enter":"Leave time cannot be earlier than enter time"},"form":{"auto_leave_after_x_hour":"Auto leave after {{hour}} hour","auto_leave_at":"Auto LEave at {{time}}","hour":"Hours"},"button":{"leave":"Leave Venue","get_off":"Get Off","leave_now":"Yes, I\'m leaving now","already_left":"I\'ve already left"}}')},224:function(e){e.exports=JSON.parse('{"name":"Confirm Page Icon Settings","message":{"test_place":"Test Venue"},"form":{"custom_icon":"Custom Icon"},"button":{"remove_icon":"Remove Icon"}}')},225:function(e){e.exports=JSON.parse('{"name":"Disclaimer","message":{"you_accepted":"By using the software, you have agreed"}}')},226:function(e){e.exports=JSON.parse('{"disclaimer":{"1":"back-home-safe (hereinafter called \u2018this software\u2019) is only used for academic use around PWA (Progressive WebApps). To demonstrate the implementation of native app features on the web (like QR Code Scanner, front-end encryption, etc.).","2":"This software is not in any way endorsed by nor affiliated with the Government of the HKSAR. It is not the official contact tracing app. DO NOT use this software as a substitute for the official LeaveHomeSafe application.","3":"The author takes no responsibility and legal liability for any misuse of this software, and reserves the right to seek all remedies available by law for any violation of these Terms of Use."},"button":{"last_page":"Last Page","next_page":"Next Page","complete":"Complete","install":"Install","set":"Set","skip":"Skip","leave":"Leave","save":"Save","preview":"Preview","unlock":"Unlock","change":"Change","confirm":"Confirm"},"form":{"optional":"Optional"}}')},227:function(e){e.exports=JSON.parse('{"message":{"please_input_password":"Please Unlock","wrong_password":"Wrong Password"},"button":{"reset":"Clear All Data"}}')},228:function(e){e.exports=JSON.parse('{"home":{"name":"Home","record_your_visit":"Record your visit","form":{"venue_name":{"label":"I want to go","placeholder":"Venue Name"},"taxi":{"label":"I\'m taking","placeholder":"Taxi Registration mark"}},"button":{"go":"Let\'s Go!","scan_qr_code":"Scan QR Code","ride":"Let\'s Go!"}},"travel_record":{"name":"Visit Records","message":{"incognito_activated":"Incognito Mode Activated","empty":"No Visit Record"}},"setting":{"name":"Settings","section":{"common":"Common","lab":"Lab","version":"Version"},"item":{"camera_setting":"Camera Settings","confirm_page_icon_setting":"Confirm Page Icon Settings","incognito_mode":{"name":"Incognito Mode","explanation":"Stop saving visit record"},"qr_generator":"QR Code Generator","reset":"Reset All Data","about_us":"About BackHomeSafe","disclaimer":"Disclaimer","change_log":"Change Log","report_issue":"Bug Report","language":"Language"}}}')},229:function(e){e.exports=JSON.parse('{"name":"QR Generator","form":{"typeZh":"Venue Type(Chinese) (typeZh)","typeEn":"Venue Type(English) (typeEn)","nameZh":"Venue Name(Chinese) (nameZh)","nameEn":"Venue Name(English) (nameEn)","addressZh":"Venue Address(Chinese) (Only for preview)","addressEn":"Venue Address(English) (Only for preview)","type":"Type","venue_code":"Venue Code (Don\'t touch)","venue_id":"Venue ID (Don\'t touch)","custom_icon":"Custom Icon"}}')},230:function(e){e.exports=JSON.parse('{"name":"Scan the QR Code","message":{"scan_qr_code":"Scan the QR Code","doesnt_support_get_user_media":"THis device doesn\'t support getUserMedia API","sure_above_ios_14":"Make sure the device is running IOS 14 or above"},"button":{"back_home":"Back To Home Screen","camera_setting":"Camera Setting"},"dialog":{"cannot_open_camera":{"title":"Cannot activate camera","content":"Cannot activate camera, please go to camera settings page change camera source."}}}')},231:function(e){e.exports=JSON.parse('{"add_to_home_screen":{"name":"\u65b0\u589e\u81f3\u4e3b\u756b\u9762","message":{"add_to_home_screen_first":"\u65b0\u589e\u81f3\u4e3b\u756b\u9762\u5148\u5566","to_act_as_an_app":"\u5514\u4fc2\u9ede\u4f3c\u500bApp"},"step":{"ios":"\u7528Safari\u958b=>\u5206\u4eab=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762","android":"\u7528Chrome\u958b=>\u53f3\u4e0a\u9078\u9805=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762/\u5b89\u88dd\u61c9\u7528\u7a0b\u5f0f"}},"disclaimer":{"name":"\u514d\u8cac\u8072\u660e","accept":"\u6211\u540c\u610f"},"setup_password":{"name":"\u8a2d\u5b9a\u5bc6\u78bc","message":{"password_usage":"\u5bc6\u78bc\u7528\u65bc\u52a0\u5bc6\u51fa\u884c\u7d00\u9304"}},"language":{"name":"\u8a9e\u8a00"}}')},232:function(e){e.exports=JSON.parse('{"name":"\u76f8\u6a5f\u8a2d\u5b9a","form":{"camera_choice":{"label":"\u76f8\u6a5f\u9078\u64c7","explain":"\u8abf\u8f03\u76f8\u6a5f\u9078\u9805\uff0c\u76f4\u81f3\u6709\u76f8\u6a5f\u756b\u9762\u986f\u793a"}}}')},233:function(e){e.exports=JSON.parse('{"message":{"you_have_entered_taxi":"\u4f60\u5df2\u9032\u5165\u7684\u58eb","res_mark":"\u8eca\u724c\u865f\u78bc","you_have_entered_venue":"\u4f60\u5df2\u9032\u5165\u5834\u6240","remember_to_leave":"\u7576\u4f60\u96e2\u958b\u6642\u8acb\u7dca\u8a18\u6309\\"\u96e2\u958b\\"","set_auto_leave_time":"\u8a2d\u7f5d\u81ea\u52d5\u96e2\u958b\u6642\u9593","enter_at":"\u65bc{{time}} \u9032\u5165\u5834\u6240","auto_leave_at":"\u65bc{{time}} \u81ea\u52d5\u96e2\u958b","you_sure_want_to_leave":"\u4f60\u73fe\u5728\u8981\u96e2\u958b\u55ce\uff1f","when_you_left":"\u4f60\u662f\u4ec0\u9ebc\u6642\u5019\u96e2\u958b\uff1f","future_leave_time":"\u96e2\u958b\u65e5\u671f\u4e0d\u80fd\u662f\u672a\u4f86","leave_time_earlier_than_enter":"\u96e2\u958b\u65e5\u671f\u4e0d\u80fd\u65e9\u65bc\u9032\u5165\u65e5\u671f"},"form":{"auto_leave_after_x_hour":"{{hour}}\u5c0f\u6642\u5f8c\u81ea\u52d5\u96e2\u958b","auto_leave_at":"\u65bc{{time}} \u81ea\u52d5\u96e2\u958b","hour":"\u5c0f\u6642"},"button":{"leave":"\u96e2\u958b\u5834\u6240","get_off":"\u4e0b\u8eca","leave_now":"\u662f\u7684\uff0c\u6211\u73fe\u5728\u8981\u96e2\u958b","already_left":"\u6211\u5df2\u7d93\u96e2\u958b\u4e86"}}')},234:function(e){e.exports=JSON.parse('{"name":"\u78ba\u8a8d\u9801\u6a19\u8a8c","message":{"test_place":"\u6e2c\u8a66\u5730\u9ede"},"form":{"custom_icon":"\u81ea\u5b9aIcon"},"button":{"remove_icon":"\u79fb\u9664Icon"}}')},235:function(e){e.exports=JSON.parse('{"name":"\u514d\u8cac\u8072\u660e","message":{"you_accepted":"\u4f7f\u7528\u6b64\u8edf\u4ef6\u4ee3\u8868\u4f60\u5df2\u540c\u610f"}}')},236:function(e){e.exports=JSON.parse('{"disclaimer":{"1":"\u5b89\u5fc3\u56de\u5bb6\uff08\u4e0b\u7c21\u7a31\u300c\u672c\u8edf\u4ef6\u300d\uff09\u53ea\u7528\u4f5c\u6f38\u9032\u5f0f\u7db2\u8def\u61c9\u7528\u7a0b\u5f0f (Progressive WebApps) \u5b78\u8853\u8a0e\u8ad6\u7528\u9014\uff0c \u7528\u65bc\u793a\u7bc4\u4e0d\u540c mobile app \u529f\u80fd\u65bc\u7db2\u9801\u4e0a\u7684\u5be6\u73fe\u65b9\u5f0f\uff08\u5982QR code \u6383\u7784\uff0c\u524d\u7aef\u8cc7\u6599\u52a0\u5bc6\u7b49\u7b49\uff09\u3002","2":"\u672c\u8edf\u4ef6\u672a\u6709\u4ee5\u4efb\u4f55\u65b9\u5f0f\u5f97\u5230\u9999\u6e2f\u7279\u5225\u884c\u653f\u5340\u653f\u5e9c\uff08\u4e0b\u7c21\u7a31\u300c\u7279\u5340\u653f\u5e9c\u300d\uff09\u7684\u8a8d\u53ef\u3002\u8207\u7279\u5340\u653f\u5e9c\u63a8\u51fa\u7684\u300c\u5b89\u5fc3\u51fa\u884c\u300d\u61c9\u7528\u7a0b\u5f0f\u6c92\u6709\u4efb\u4f55\u95dc\u4fc2\uff0c\u4ea6\u4e0d\u662f\u7279\u5340\u653f\u5e9c\u5b98\u65b9\u7684\u8ffd\u8e2a\u7a0b\u5f0f\u3002\u56e0\u6b64\u672c\u8edf\u4ef6\u4e0d\u61c9\u53d6\u4ee3\u7279\u5340\u653f\u5e9c\u300c\u5b89\u5fc3\u51fa\u884c\u300d\u61c9\u7528\u7a0b\u5f0f\u3002","3":"\u4efb\u4f55\u4eba\u58eb\u5728\u4f7f\u7528\u672c\u8edf\u4ef6\u4f5c\u4efb\u4f55\u7528\u9014\u524d\uff0c\u61c9\u5148\u5c0b\u6c42\u7368\u7acb\u7684\u6cd5\u5f8b\u610f\u898b\u6216\u5176\u4ed6\u5c08\u696d\u610f\u898b\u3002\u7528\u6236\u82e5\u56e0\u4f7f\u7528\uff0f\u672a\u80fd\u4f7f\u7528\u672c\u8edf\u4ef6\uff0c\u6216\u4ee5\u672c\u8edf\u4ef6\u4f5c\u4efb\u4f55\u8aa4\u7528\u884c\u70ba\u5f15\u81f4\u7684\u640d\u5931\u3001\u640d\u5bb3\u3001\u6cd5\u5f8b\u8cac\u4efb\u6216\u5176\u4ed6\u5f8c\u679c\uff0c\u4f5c\u8005\u6982\u4e0d\u6703\u627f\u64d4\u4efb\u4f55\u6cd5\u5f8b\u8cac\u4efb\uff0c\u4e26\u4fdd\u7559\u8ffd\u7a76\u6b0a\u5229\u3002"},"button":{"last_page":"\u4e0a\u4e00\u9801","next_page":"\u4e0b\u4e00\u9801","complete":"\u5b8c\u6210","install":"\u5b89\u88dd","set":"\u8a2d\u5b9a","skip":"\u8df3\u904e","leave":"\u96e2\u958b","save":"\u5132\u5b58","preview":"\u9810\u89bd","unlock":"\u89e3\u9396","change":"\u8b8a\u66f4","confirm":"\u78ba\u8a8d"},"form":{"optional":"\u9078\u7528"}}')},237:function(e){e.exports=JSON.parse('{"message":{"please_input_password":"\u8acb\u8f38\u5165\u5bc6\u78bc\u89e3\u9396","wrong_password":"\u5bc6\u78bc\u932f\u8aa4"},"button":{"reset":"\u91cd\u8a2d\u6240\u6709\u8cc7\u6599"}}')},238:function(e){e.exports=JSON.parse('{"home":{"name":"\u4e3b\u9801","record_your_visit":"\u8a18\u9304\u4f60\u7684\u5230\u8a2a","form":{"venue_name":{"label":"\u6211\u60f3\u53bb","placeholder":"\u8f38\u5165\u5730\u5740"},"taxi":{"label":"\u6211\u642d\u7dca","placeholder":"\u8f38\u5165\u8eca\u724c"}},"button":{"go":"\u8a71\u53bb\u5c31\u53bb!","scan_qr_code":"\u6383\u7784\u4e8c\u7dad\u78bc","ride":"\u8a71\u642d\u5c31\u642d!"}},"travel_record":{"name":"\u51fa\u884c\u7d00\u9304","message":{"incognito_activated":"\u96b1\u79c1\u6a21\u5f0f\u5df2\u958b\u555f","empty":"\u6c92\u6709\u51fa\u884c\u7d00\u9304"}},"setting":{"name":"\u8a2d\u5b9a","section":{"common":"\u5e38\u7528","lab":"\u5be6\u9a57\u5ba4","version":"\u7248\u672c"},"item":{"camera_setting":"\u76f8\u6a5f\u8a2d\u5b9a","confirm_page_icon_setting":"\u78ba\u8a8d\u9801\u6a19\u8a8c\u8a2d\u5b9a","incognito_mode":{"name":"\u96b1\u79c1\u6a21\u5f0f","explanation":"\u4e0d\u5132\u5b58\u51fa\u884c\u7d00\u9304"},"qr_generator":"\u751f\u6210\u4e8c\u7dad\u78bc","reset":"\u91cd\u8a2d\u6240\u6709\u8cc7\u6599","about_us":"\u95dc\u65bc\u5b89\u5fc3\u56de\u5bb6","disclaimer":"\u514d\u8cac\u8072\u660e","change_log":"\u66f4\u65b0\u7d00\u9304","report_issue":"\u56de\u5831\u554f\u984c","language":"\u8a9e\u8a00"}}}')},239:function(e){e.exports=JSON.parse('{"name":"\u751f\u6210\u4e8c\u7dad\u78bc","form":{"typeZh":"\u5834\u6240\u7a2e\u985e(\u4e2d\u6587) (typeZh)","typeEn":"\u5834\u6240\u7a2e\u985e(\u82f1\u6587) (typeEn)","nameZh":"\u5834\u6240\u540d\u5b57(\u4e2d\u6587) (nameZh)","nameEn":"\u5834\u6240\u540d\u5b57(\u82f1\u6587) (nameEn)","addressZh":"\u5834\u6240\u5730\u5740(\u4e2d\u6587) (\u9810\u89bd\u7528)","addressEn":"\u5834\u6240\u5730\u5740(\u82f1\u6587) (\u9810\u89bd\u7528)","type":"\u985e\u578b","venue_code":"\u5834\u5730\u7de8\u78bc (\u5514\u77e5\u5514\u597d\u641e)","venue_id":"\u5834\u5730ID (\u5514\u77e5\u5514\u597d\u641e)","custom_icon":"\u81ea\u5b9aIcon"}}')},240:function(e){e.exports=JSON.parse('{"name":"\u6383\u7784\u4e8c\u7dad\u78bc","message":{"scan_qr_code":"\u6383\u7784\u4e8c\u7dad\u78bc","doesnt_support_get_user_media":"\u6b64\u88dd\u7f6e\u4e0d\u652f\u63f4 getUserMedia API","sure_above_ios_14":"\uff0c\u8acb\u78ba\u4fdd\u88dd\u7f6e\u5728IOS 14\u6216\u4ee5\u4e0a"},"button":{"back_home":"\u56de\u5230\u4e3b\u9801","camera_setting":"\u76f8\u6a5f\u8a2d\u5b9a"},"dialog":{"cannot_open_camera":{"title":"\u672a\u80fd\u958b\u555f\u76f8\u6a5f\u93e1\u982d","content":"\u672a\u80fd\u958b\u555f\u76f8\u6a5f\u93e1\u982d\uff0c\u8acb\u5230\u76f8\u6a5f\u8a2d\u5b9a\u9032\u884c\u8a2d\u7f6e"}}}')},241:function(e){e.exports=JSON.parse('{"add_to_home_screen":{"name":"\u65b0\u589e\u81f3\u4e3b\u756b\u9762","message":{"add_to_home_screen_first":"\u65b0\u589e\u81f3\u4e3b\u756b\u9762\u5148\u5566","to_act_as_an_app":"\u5514\u4fc2\u9ede\u4f3c\u500bApp"},"step":{"ios":"\u7528Safari\u958b=>\u5206\u4eab=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762","android":"\u7528Chrome\u958b=>\u53f3\u4e0a\u9078\u9805=>\u65b0\u589e\u81f3\u4e3b\u756b\u9762/\u5b89\u88dd\u61c9\u7528\u7a0b\u5f0f"}},"disclaimer":{"name":"\u514d\u8cac\u8072\u660e","accept":"\u6211\u540c\u610f"},"setup_password":{"name":"\u8a2d\u5b9a\u5bc6\u78bc","message":{"password_usage":"\u5bc6\u78bc\u7528\u65bc\u52a0\u5bc6\u51fa\u884c\u7d00\u9304"}},"language":{"name":"\u8a9e\u8a00"}}')},25:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return w})),t.d(n,"d",(function(){return k}));var a,o,r=t(32),c=t(109),i=t(9),s=t(49),l=t(459),u=t(469),d=t(460),b=t(0),f=t(37),p=t(74),j=t(458),m=t(261),h=t(471),O=t(470),g=function(e,n){return p.AES.encrypt(e,n).toString()},x=function(e){var n=e.key,t=e.defaultValue,a=Object(m.a)("incognito",!1),o=Object(i.a)(a,2),r=o[0],c=o[1],s=Object(b.useState)(t),l=Object(i.a)(s,1)[0],u=Object(b.useState)(null),d=Object(i.a)(u,2),f=d[0],x=d[1],v=Object(m.a)(n,f?g(JSON.stringify(l),f):JSON.stringify(l)),_=Object(i.a)(v,2),y=_[0],w=_[1],k=Object(m.a)("password_hash",null),S=Object(i.a)(k,3)[2];Object(b.useEffect)((function(){S()}),[S]);var C=Object(b.useState)(l),T=Object(i.a)(C,2),A=T[0],I=T[1],N=Object(b.useMemo)((function(){try{if(!y)return!1;JSON.parse(y)}catch(e){return!0}return!1}),[y]),E=Object(b.useMemo)((function(){return!N||!Object(j.a)(f)}),[f,N]);Object(h.a)((function(){N||I(y?JSON.parse(y):l)})),Object(O.a)((function(){E&&!r&&w(f?g(JSON.stringify(A||l),f):JSON.stringify(A))}),[A]);var R=Object(b.useCallback)((function(e){var n=g(y||JSON.stringify(l),e);w(n),x(e)}),[y,w,l]);return{unlockStore:Object(b.useCallback)((function(e){if(!N)return!0;try{var n=function(e,n){return p.AES.decrypt(e,n).toString(p.enc.Utf8)}(y||JSON.stringify(l),e);return I(JSON.parse(n)),x(e),!0}catch(t){return!1}}),[l,y,N]),lockStore:Object(b.useCallback)((function(){N&&(x(null),I(l))}),[N,l]),value:A,setValue:I,initPassword:R,unlocked:E,incognito:r,setIncognito:c}},v=t(48);!function(e){e.MANUALLY="MANUALLY",e.SCAN="SCAN"}(a||(a={})),function(e){e.PLACE="PLACE",e.TAXI="TAXI"}(o||(o={}));var _=Object(s.a)((function(){var e=Object(v.b)().currentTime,n=x({key:"travel_record",defaultValue:[]}),t=n.unlockStore,a=n.lockStore,o=n.value,i=n.setValue,s=n.initPassword,p=n.unlocked,j=n.incognito,m=n.setIncognito,h=Object(b.useCallback)((function(e,n){var t=Object(l.a)(e);return!t||t.outTime&&Object(f.a)(t.outTime).isBefore(n)?null:t}),[]),O=Object(b.useMemo)((function(){return h(o,e)}),[h,o,e]),g=Object(b.useCallback)((function(n){i((function(t){var a=h(t,e);return a?[n,Object(r.a)(Object(r.a)({},a),{},{outTime:e.toISOString()})].concat(Object(c.a)(Object(u.a)(t))):[n].concat(Object(c.a)(t))}))}),[h,e,i]),_=Object(b.useCallback)((function(n){i((function(t){var a=h(t,e);return a?[Object(r.a)(Object(r.a)({},a),n)].concat(Object(c.a)(Object(u.a)(t))):t}))}),[h,e,i]);return{travelRecord:o,setTravelRecord:i,currentTravelRecord:O,createTravelRecord:g,updateCurrentTravelRecord:_,removeTravelRecord:function(e){i((function(n){return Object(d.a)(e,1,n)}))},lockTravelRecord:a,unlockTravelRecord:t,encryptTravelRecord:s,unlocked:p,incognito:j,setIncognito:m}})),y=Object(i.a)(_,2),w=y[0],k=y[1]},300:function(e,n){},302:function(e,n){},312:function(e,n){},314:function(e,n){},341:function(e,n){},342:function(e,n){},347:function(e,n){},349:function(e,n){},356:function(e,n){},37:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));t(294),t(295);var a=t(85),o=t.n(a),r=t(108),c=function(e){return o()(e).locale(r.a.language.toLowerCase())}},375:function(e,n){},42:function(e,n,t){"use strict";var a;t.d(n,"a",(function(){return a})),function(e){e["ZH-HK"]="zh-HK",e.EN="en"}(a||(a={}))},429:function(e,n,t){"use strict";t.r(n);var a,o=t(38),r=t(108),c=t(88),i=t(42),s=t(222),l=t(223),u=t(224),d=t(225),b=t(226),f=t(227),p=t(228),j=t(229),m=t(230),h={global:b,tutorial:t(231),main_screen:p,qr_reader:m,qr_generator:j,login:f,disclaimer:d,confirm_page_icon:u,confirm:l,camera_setting:s},O=t(232),g=t(233),x=t(234),v=t(235),_=t(236),y=t(237),w=t(238),k=t(239),S=t(240),C={global:_,tutorial:t(241),main_screen:w,qr_reader:S,qr_generator:k,login:y,disclaimer:v,confirm_page_icon:x,confirm:g,camera_setting:O};r.a.use(c.e).init({resources:(a={},Object(o.a)(a,i.a["ZH-HK"],C),Object(o.a)(a,i.a.EN,h),a),lng:i.a["ZH-HK"],fallbackLng:i.a["ZH-HK"],interpolation:{escapeValue:!1},debug:!0});var T,A,I,N,E=t(255),R=t(465),H=t(463),D=t(464),L=t(0),M=t.n(L),P=t(30),J=t.n(P),z=t(57),V=t(3),U=t(9),Z=t(11),q=t(261),W=t(4),Y=t(146),K=t(32),B=t(143),F=t(1),X=function(e){return Object(F.jsx)(G,Object(K.a)(Object(K.a)({},e),{},{atEnter:{opacity:1,offset:100,zIndex:100},atLeave:{opacity:0,offset:0},atActive:{opacity:1,offset:(n=0,Object(B.b)(n,{stiffness:174,damping:24}))},mapStyles:function(e){return{opacity:e.opacity,zIndex:e.zIndex,transform:"translateX(".concat(e.offset,"%)")}},runOnMount:!0}));var n},G=Object(W.b)(B.a)(T||(T=Object(V.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  & > div {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-color: #12b188;\n    box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n  }\n"]))),Q=t(454),$=function(){var e=Object(L.useState)(!1),n=Object(U.a)(e,2),t=n[0],a=n[1];return Object(L.useEffect)((function(){var e=setTimeout((function(){return a(!0)}),200);return function(){clearTimeout(e)}})),t?Object(F.jsx)(ee,{children:Object(F.jsx)(ne,{children:Object(F.jsx)(Q.a,{})})}):null},ee=W.b.div(A||(A=Object(V.a)(["\n  z-index: 1000;\n  position: absolute;\n  top: 50%; /* position the top  edge of the element at the middle of the parent */\n  left: 50%; /* position the left edge of the element at the middle of the parent */\n\n  transform: translate(\n    -50%,\n    -50%\n  ); /* This is a shorthand of\n                                         translateX(-50%) and translateY(-50%) */\n"]))),ne=W.b.div(I||(I=Object(V.a)(["\n  background-color: #fff;\n  padding: 40px;\n  border-radius: 8px;\n"]))),te=t(220),ae=t(25),oe=M.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(6),t.e(16)]).then(t.bind(null,601))})),re=M.a.lazy((function(){return Promise.all([t.e(0),t.e(2),t.e(17),t.e(13)]).then(t.bind(null,602))})),ce=M.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(2),t.e(10)]).then(t.bind(null,605))})),ie=M.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(9),t.e(15)]).then(t.bind(null,595))})),se=M.a.lazy((function(){return Promise.all([t.e(7),t.e(11)]).then(t.bind(null,598))})),le=M.a.lazy((function(){return t.e(12).then(t.bind(null,592))})),ue=M.a.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(8)]).then(t.bind(null,593))})),de=M.a.lazy((function(){return t.e(14).then(t.bind(null,594))})),be=function(){var e=Object(q.a)("finished_tutorial",!1),n=Object(U.a)(e,2),t=n[0],a=n[1],o=Object(q.a)("confirmPageIcon",null),r=Object(U.a)(o,2),c=r[0],i=r[1],s=Object(ae.d)(),l=s.lockTravelRecord,u=s.unlocked,d=s.currentTravelRecord,b=Object(Z.h)().pathname,f=Object(L.useCallback)((function(){console.log(b),"/qrReader"!==b&&"/cameraSetting"!==b&&l()}),[l,b]);return Object(L.useEffect)((function(){return console.log(Y.a.browserDetails.browser,Y.a.browserDetails.version),window.addEventListener("blur",f),function(){window.removeEventListener("blur",f)}}),[f]),Object(F.jsxs)(L.Suspense,{fallback:Object(F.jsx)($,{}),children:[Object(F.jsx)(fe,{}),Object(F.jsxs)(X,{children:[!u&&Object(F.jsx)(Z.b,{exact:!0,path:"/login",children:Object(F.jsx)(ue,{})}),!u&&Object(F.jsx)(Z.a,{to:"/login"}),!t&&Object(F.jsx)(Z.b,{exact:!0,path:"/tutorial",children:Object(F.jsx)(ie,{setFinishedTutorial:a})}),!t&&Object(F.jsx)(Z.a,{to:"/tutorial"}),Object(F.jsx)(Z.b,{exact:!0,path:"/",children:Object(F.jsx)(se,{})}),Object(F.jsx)(Z.b,{exact:!0,path:"/confirm",children:Object(F.jsx)(te.a,{confirmPageIcon:c,currentTravelRecord:d})}),Object(F.jsx)(Z.b,{exact:!0,path:"/qrGenerator",children:Object(F.jsx)(oe,{})}),Object(F.jsx)(Z.b,{exact:!0,path:"/disclaimer",children:Object(F.jsx)(le,{})}),Object(F.jsx)(Z.b,{exact:!0,path:"/qrReader",children:Object(F.jsx)(re,{})}),Object(F.jsx)(Z.b,{exact:!0,path:"/cameraSetting",children:Object(F.jsx)(ce,{})}),Object(F.jsx)(Z.b,{exact:!0,path:"/confirmPageIcon",children:Object(F.jsx)(de,{confirmPageIcon:c,setConfirmPageIcon:i})}),Object(F.jsx)(Z.a,{to:"/"})]})]})},fe=Object(W.a)(N||(N=Object(V.a)(["\nhtml {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  margin: 0;\n  font-family: Rubik, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color:#12b188;\n  width: 100%;\n  height: 100%;\n}\n\ntextarea {\n  font-family: inherit;\n}\n\n\n#root {\n  width: 100%;\n  height: 100%;\n}\n\na {\n  text-decoration: none;\n}\n"]))),pe=t(154),je=t(59),me=t(48),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Oe(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ge=Object(E.a)({palette:{primary:{main:H.a[500]},secondary:{main:D.a[600]}}});J.a.render(Object(F.jsx)(M.a.StrictMode,{children:Object(F.jsx)(je.a,{children:Object(F.jsx)(z.a,{basename:"/",children:Object(F.jsx)(R.a,{theme:ge,children:Object(F.jsx)(me.a,{children:Object(F.jsx)(ae.a,{children:Object(F.jsx)(pe.a,{children:Object(F.jsx)(be,{})})})})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat(".","/service-worker.js");he?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Oe(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Oe(n,e)}))}}({onUpdate:function(){window.confirm("\u5df2\u6709\u65b0\u7248\u672c, \u6309\u78ba\u5b9a\u91cd\u65b0\u8f09\u5165\u9801\u9762")&&window.location.reload()}})},46:function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"b",(function(){return s}));var a,o,r=t(3),c=t(4),i=c.b.button(a||(a=Object(r.a)(["\n  display: block;\n  margin: auto;\n  margin-bottom: 16px;\n  font-size: 24px;\n  padding: 10px 0;\n  width: 80%;\n  border-radius: 48px;\n  flex-shrink: 0;\n  max-width: 280px;\n  font-weight: 500;\n\n  ","\n\n  border: 0;\n  outline: none;\n  ","\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n"])),(function(e){return e.disabled?"background-color: #D3D3D3;\n        color: #A1A1A1;\n        ":"\n        background-color: #fed426;\n      "}),(function(e){return e.shadowed?"box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.5);":""})),s=Object(c.b)(i)(o||(o=Object(r.a)(["\n  font-size: 16px;\n  padding: 12px 0;\n  width: 90%;\n  font-weight: unset;\n"])))},48:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return d}));var a=t(9),o=t(37),r=t(0),c=t(434),i=t(49),s=Object(i.a)((function(){var e=Object(r.useState)(Object(o.a)()),n=Object(a.a)(e,2),t=n[0],i=n[1];return Object(c.a)((function(){i(Object(o.a)())}),1e3),{currentTime:t}})),l=Object(a.a)(s,2),u=l[0],d=l[1]},59:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return b}));var a=t(9),o=t(49),r=t(0),c=t(433),i=t(261),s=t(42),l=Object(o.a)((function(){var e=Object(i.a)("language",s.a["ZH-HK"]),n=Object(a.a)(e,2),t=n[0],o=n[1],l=Object(c.a)().i18n;return Object(r.useEffect)((function(){l.changeLanguage(t)}),[l,t]),{language:t||s.a["ZH-HK"],setLanguage:o}})),u=Object(a.a)(l,2),d=u[0],b=u[1]},71:function(e,n,t){"use strict";n.a=t.p+"static/media/crossBlack.aafc0aee.svg"},91:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return u})),t.d(n,"c",(function(){return b}));var a=t(32),o=t(74),r=t(148),c=t(149),i=t(75),s=t(42),l=function(e){if(!e.startsWith("HKEN:"))return null;var n=e.substring(6,14),t=d(n),o=e.substring(14),r=JSON.parse(decodeURIComponent(escape(window.atob(o))));return console.log({input:e,venueId:n,decodedData:r,computedHash:t,hashMatch:t===r.hash}),Object(a.a)(Object(a.a)({},r),{},{venueId:n})},u=function(e,n){if(!e)return"";var t=Object(r.a)(Object(c.a)("","nameZh",e)),a=Object(r.a)(Object(c.a)("","nameEn",e)),o=Object(r.a)(Object(c.a)("","venueId",e)),l=Object(i.a)(t)?Object(i.a)(a)?o:a:t,u=Object(i.a)(a)?Object(i.a)(t)?o:t:a;return n===s.a.EN?u:l},d=function(e){var n="HKEN".concat(e,"2020");return Object(o.SHA256)(n).toString()},b=function(e){var n=e.typeEn,t=e.typeZh,a=e.nameEn,o=e.nameZh,r=e.type,c=e.venueCode,s=e.venueID,l={metadata:Object(i.a)(n)&&Object(i.a)(t)?null:{typeEn:n,typeZh:t},nameZh:o,nameEn:a,type:r,hash:d(s)},u=window.btoa(unescape(encodeURIComponent(JSON.stringify(l))));return"HKEN:".concat(c).concat(s).concat(u)}}},[[429,4,5]]]);
//# sourceMappingURL=main.0e1e9037.chunk.js.map